<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.79 [en] (X11; U; SunOS 5.8 sun4u) [Netscape]">
</head>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B" alink="#FF0000">

<h1>
XS&nbsp;Annotation Examples</h1>

<p><br>Some Commonly Used Annotation Attributes:
<br>&nbsp;
<table BORDER CELLSPACING=0 CELLPADDING=0 WIDTH="559" BGCOLOR="#F3F3F3" style="width:419.4pt;background:#F3F3F3;border-collapse:collapse;border:none;
 mso-border-alt:solid windowtext .5pt;mso-padding-alt:0in 5.4pt 0in 5.4pt" >
<tr>
<td VALIGN=TOP WIDTH="175" style="width:131.4pt;border:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt">
<div class="MsoNormal"><b>Annotation Attributes</b></div>
</td>

<td VALIGN=TOP WIDTH="384" style="width:4.0in;border:solid windowtext .5pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt">
<h6>
<font size=+0>Explanation</font></h6>
</td>
</tr>

<tr>
<td VALIGN=TOP WIDTH="175" style="width:131.4pt;border:solid windowtext .5pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt">
<div class="MsoNormal">Outline</div>
</td>

<td VALIGN=TOP WIDTH="384" style="width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext .5pt;border-right:solid windowtext .5pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt">
<div class="MsoHeader" style="tab-stops:.5in">Can be applied to attribute,
element or group. Take value true or false. If true, a relational table
will be created for this attribute, element or group.</div>
</td>
</tr>

<tr>
<td VALIGN=TOP WIDTH="175" style="width:131.4pt;border:solid windowtext .5pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt">
<div class="MsoNormal">maptoclob</div>
</td>

<td VALIGN=TOP WIDTH="384" style="width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext .5pt;border-right:solid windowtext .5pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt">
<div class="MsoHeader" style="tab-stops:.5in">Can be applied to attribute
or element.&nbsp; Take value true or false. If true, the element or attribute
will be mapped to a CLOB column.</div>
</td>
</tr>

<tr>
<td VALIGN=TOP WIDTH="175" style="width:131.4pt;border:solid windowtext .5pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt">
<div class="MsoHeader" style="tab-stops:.5in">edgemapping</div>
</td>

<td VALIGN=TOP WIDTH="384" style="width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext .5pt;border-right:solid windowtext .5pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt">
<div class="MsoHeader" style="tab-stops:.5in">Can be applied to element.&nbsp;
Take value true or false. If true, the subtree starting from the element
will be mapped using&nbsp; the edge mapping technique.</div>
</td>
</tr>

<tr>
<td>tablename</td>

<td>Can be applied to attribute, element or global group.&nbsp; The annotation
value overwrites the table name generated by default.</td>
</tr>

<tr>
<td VALIGN=TOP WIDTH="175" style="width:131.4pt;border:solid windowtext .5pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt">
<div class="MsoHeader" style="tab-stops:.5in">fieldname</div>
</td>

<td VALIGN=TOP WIDTH="384" style="width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext .5pt;border-right:solid windowtext .5pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt">
<div class="MsoHeader" style="tab-stops:.5in">Can be applied to attribute
or element.&nbsp; The annotation value overwrites the field name generated
by default.</div>
</td>
</tr>

<tr>
<td VALIGN=TOP WIDTH="175" style="width:131.4pt;border:solid windowtext .5pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt">
<div class="MsoNormal">Sqltype</div>
</td>

<td VALIGN=TOP WIDTH="384" style="width:4.0in;border-top:none;border-left:none;
  border-bottom:solid windowtext .5pt;border-right:solid windowtext .5pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt">
<div class="MsoHeader" style="tab-stops:.5in">Can be applied to attribute
or element.&nbsp; The value overwrites SQL type derived from schema data
type.</div>
</td>
</tr>
</table>

<div class="MsoToc1"></div>

<br>&nbsp;
<p>The original XML&nbsp;schema has a top elment IMDB, which contains a
list of SHOW elements.&nbsp; The SHOW&nbsp; Element has subelements TITLE&nbsp;and
YEAR&nbsp;of integer type, a choice group which containts alternative elements
BOXOFFICE&nbsp;and SEASONS, and a REVIEW&nbsp;element which may appear
multiple times.
<br>&nbsp;
<table BORDER COLS=1 WIDTH="100%" BGCOLOR="#CCCCCC" NOSAVE >
<tr NOSAVE>
<td NOSAVE><font size=-1>&nbsp;&lt;element name="IMDB" type="test:IMDBType"/></font><font size=-1></font>
<p><font size=-1>&nbsp; &lt;complexType name="IMDBType">&nbsp;</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; &lt;sequence></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;element name="SHOW"
type="test:SHOWType" minOccurs="0" maxOccurs="unbounded"/></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; &lt;/sequence></font>
<br><font size=-1>&nbsp; &lt;/complexType></font><font size=-1></font>
<p><font size=-1>&nbsp; &lt;complexType name="SHOWType"></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; &lt;sequence>&nbsp;</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;element name="TITLE"
type="integer"/></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;element name="YEAR"
type="integer"/></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;choice></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;element
name="BOXOFFICE" type="integer"/></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;element
name="SEASONS" type="string"/></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/choice></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;element name="REVIEW"
type="integer" minOccurs="0" maxOccurs="unbounded"/></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; &lt;/sequence>&nbsp;</font>
<br><font size=-1>&nbsp; &lt;/complexType>&nbsp;</font></td>
</tr>
</table>

<p>By default the following relation tables will be generated by ShreX:
<br>&nbsp;
<table BORDER COLS=1 WIDTH="100%" BGCOLOR="#CCFFFF" NOSAVE >
<tr NOSAVE>
<td NOSAVE><font size=-1>CREATE TABLE IMDB</font>
<br><font size=-1>(</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; id_ VARCHAR(128) NOT NULL,</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; PRIMARY KEY (id_)</font>
<br><font size=-1>);</font><font size=-1></font>
<p><font size=-1>CREATE TABLE IMDB_SHOW</font>
<br><font size=-1>(</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; id_ VARCHAR(128) NOT NULL,</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; pid VARCHAR(128) NOT NULL,</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; TITLE NUM(12) NOT NULL,</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; YEAR NUM(12) NOT NULL,</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; BOXOFFICE NUM(12),</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; SEASONS VARCHAR(128),</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; PRIMARY KEY (id_),</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; FOREIGN KEY (pid) REFERENCES IMDB</font>
<br><font size=-1>);</font><font size=-1></font>
<p><font size=-1>CREATE TABLE IMDB_SHOW_REVIEW</font>
<br><font size=-1>(</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; id_ VARCHAR(128) NOT NULL,</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; pid VARCHAR(128) NOT NULL,</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; REVIEW NUM(12),</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; PRIMARY KEY (id_),</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; FOREIGN KEY (pid) REFERENCES IMDB_SHOW</font>
<br><font size=-1>);</font></td>
</tr>
</table>

<p>If we make the following annotations:
<table BORDER COLS=1 WIDTH="100%" BGCOLOR="#CCCCCC" NOSAVE >
<tr NOSAVE>
<td NOSAVE><font size=-1>&nbsp;&lt;element name="IMDB" type="test:IMDBType"/></font><font size=-1></font>
<p><font size=-1>&nbsp; &lt;complexType name="IMDBType">&nbsp;</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; &lt;sequence></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;element name="SHOW"
type="test:SHOWType" minOccurs="0" maxOccurs="unbounded"/></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; &lt;/sequence></font>
<br><font size=-1>&nbsp; &lt;/complexType></font><font size=-1></font>
<p><font size=-1>&nbsp; &lt;complexType name="SHOWType"></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; &lt;sequence>&nbsp;</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;element name="TITLE"
type="integer" <b>xs:outline="true" xs:tablename="Showtitle"</b>/></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;element name="YEAR"
type="integer" <b>xs:sqltype="NUMBER(4)"</b>/></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;choice></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;element
name="BOXOFFICE" type="integer"/></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;element
name="SEASONS" type="string"/></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/choice></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;element name="REVIEW"
type="integer" minOccurs="0" maxOccurs="unbounded"/></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; &lt;/sequence>&nbsp;</font>
<br><font size=-1>&nbsp; &lt;/complexType>&nbsp;</font></td>
</tr>
</table>

<p>The generated relational schema is as the follow:
<br>&nbsp;
<table BORDER COLS=1 WIDTH="100%" BGCOLOR="#CCFFFF" NOSAVE >
<tr NOSAVE>
<td NOSAVE><font size=-1>CREATE TABLE IMDB</font>
<br><font size=-1>(</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; id_ VARCHAR(128) NOT NULL,</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; PRIMARY KEY (id_)</font>
<br><font size=-1>);</font><font size=-1></font>
<p><font size=-1>CREATE TABLE IMDB_SHOW</font>
<br><font size=-1>(</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; id_ VARCHAR(128) NOT NULL,</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; pid VARCHAR(128) NOT NULL,</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; YEAR <b>NUM(4)</b> NOT NULL,</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; BOXOFFICE NUM(12),</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; SEASONS VARCHAR(128),</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; PRIMARY KEY (id_),</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; FOREIGN KEY (pid) REFERENCES IMDB</font>
<br><font size=-1>);</font><font size=-1></font>
<p><b><font size=-1>CREATE TABLE Showtitle</font></b>
<br><font size=-1>(</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; id_ VARCHAR(128) NOT NULL,</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; pid VARCHAR(128) NOT NULL,</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; TITLE NUM(12) NOT NULL,</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; PRIMARY KEY (id_),</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; FOREIGN KEY (pid) REFERENCES IMDB_SHOW</font>
<br><font size=-1>);</font><font size=-1></font>
<p><font size=-1>CREATE TABLE IMDB_SHOW_REVIEW</font>
<br><font size=-1>(</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; id_ VARCHAR(128) NOT NULL,</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; pid VARCHAR(128) NOT NULL,</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; REVIEW NUM(12),</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; PRIMARY KEY (id_),</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; FOREIGN KEY (pid) REFERENCES IMDB_SHOW</font>
<br><font size=-1>);</font></td>
</tr>
</table>

<p>If we make an annotation for edge mapping:
<br>&nbsp;
<table BORDER COLS=1 WIDTH="100%" BGCOLOR="#CCCCCC" NOSAVE >
<tr NOSAVE>
<td NOSAVE><font size=-1>&nbsp;&lt;element name="IMDB" type="test:IMDBType"/></font><font size=-1></font>
<p><font size=-1>&nbsp; &lt;complexType name="IMDBType" <b>xs:edgemapping="true"</b>>&nbsp;</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; &lt;sequence></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;element name="SHOW"
type="test:SHOWType" minOccurs="0" maxOccurs="unbounded"/></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; &lt;/sequence></font>
<br><font size=-1>&nbsp; &lt;/complexType></font><font size=-1></font>
<p><font size=-1>&nbsp; &lt;complexType name="SHOWType"></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; &lt;sequence>&nbsp;</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;element name="TITLE"
type="integer" /></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;element name="YEAR"
type="integer" /></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;choice></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;element
name="BOXOFFICE" type="integer"/></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;element
name="SEASONS" type="string"/></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/choice></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;element name="REVIEW"
type="integer" minOccurs="0" maxOccurs="unbounded"/></font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; &lt;/sequence>&nbsp;</font>
<br><font size=-1>&nbsp; &lt;/complexType>&nbsp;</font></td>
</tr>
</table>

<p>The generated relational schema is as the follow:
<br>&nbsp;
<table BORDER COLS=1 WIDTH="100%" BGCOLOR="#CCFFFF" NOSAVE >
<tr NOSAVE>
<td NOSAVE><font size=-1>CREATE TABLE IMDB</font>
<br><font size=-1>(</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; source VARCHAR(128) NOT NULL,</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; ordinal VARCHAR(128) NOT NULL,</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; attrname VARCHAR(128) NOT NULL,</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; isValue VARCHAR(128) NOT NULL,</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; value VARCHAR(128) NOT NULL,</font>
<br><font size=-1>&nbsp;&nbsp;&nbsp; PRIMARY KEY (source,ordinal)</font>
<br><font size=-1>);</font></td>
</tr>
</table>

<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
</body>
</html>
